<div class="row">
  <div class="col-md-8">

    <%= simple_form_for([:users, @document]) do |f| %>

      <div class="row">
        <%= f.input :title, wrapper_html: { class: 'col-sm-12' } %>
      </div>

      <div class="row">
        <%= f.input :category, label: false, wrapper_html: { class: 'col-sm-6' },
          input_html: {class: 'apply-selectize'},
          collection: Document.human_categories,
          prompt: t('views.prompt.select.m', name: Document.human_attribute_name(:category)) %>
        <%= f.input :department_id, label: false, wrapper_html: { class: 'col-sm-6' },
          input_html: {class: 'apply-selectize'},
          collection: @departments,
          prompt: t('views.prompt.select.m', name: t('activerecord.attributes.document.department').downcase) %>
      </div>

      <%= f.input :front_text, input_html: { data: { type: 'summernote' } } %>

      <%= f.input :back_text, input_html: { data: { type: 'summernote' } } %>

      <div class="form-footer">
        <div class="d-flex">
          <%= link_to t('views.links.back'), users_documents_path, class: 'btn btn-secondary' %>
          <%= f.button :submit, class: 'btn btn-primary ml-auto' %>
        </div>
      </div>

    <% end %>

  </div>

  <div class="col-md-4">
    <div class="table-responsive">
      <table class="table card-table table-striped table-vcenter">
        <thead>
          <tr>
            <th><%= t('activerecord.attributes.document.variables.name') %></th>
            <th><%= t('activerecord.attributes.document.variables.identifier') %></th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          <% @document.variables.each do |variable| %>
            <tr>
              <td> <%= variable['name'] %></td>
              <td> <%= variable['identifier'] %></td>
              <td class = 'w-1'>
                <%= link_to '#', method: :delete, data: { confirm: t('views.prompt.confirm') } do %>
                  <%= icon('fas', 'trash', class: 'icon', data: { toggle: 'tooltip' }, title: t('views.links.destroy')) %>
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <%= simple_form_for(:variable, url: users_document_variables_path(@document), method: :patch) do |f| %>
      <div class="row">
        <%= f.input :name,  wrapper_html: { class: 'col-6' } %>
        <%= f.input :identifier, wrapper_html: { class: 'col-6' } %>
      </div>

      <%= f.button :submit, 'Adicionar', class: 'btn btn-primary ml-auto' %>
    <% end %>



  </div>

</div>
